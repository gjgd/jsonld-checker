(this["webpackJsonpjsonld-checker-app"]=this["webpackJsonpjsonld-checker-app"]||[]).push([[0],{115:function(e){e.exports=JSON.parse('{"@context":["https://transmute-industries.github.io/universal-wallet/contexts/wallet-v1.json"],"id":"did:example:123","type":["CachedDIDDocument"],"name":"Farming Sensor DID Document","image":"https://via.placeholder.com/150","description":"An IoT device in the middle of a corn field.","tags":["professional"],"correlation":["4058a72a-9523-11ea-bb37-0242ac130002"],"created":"2017-06-18T21:19:10Z","expires":"2026-06-18T21:19:10Z","didDocument":{"@context":"https://w3id.org/did/v0.11","id":"did:example:123","assertionMethod":["did:example:123#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN"],"authentication":["did:example:123#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN"],"capabilityDelegation":["did:example:123#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN"],"capabilityInvocation":["did:example:123#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN"],"keyAgreement":[{"id":"did:example:123#zC5iai1sL93gQxn8LKh1i42fTbpfar65dVx4NYznYfG3Y5","type":"X25519KeyAgreementKey2019","controller":"did:example:123","publicKeyBase58":"6DrzegWwfw8Xg5MsHX95sVnJaPmtXP214B5X9hkG9oRs"}],"publicKey":[{"id":"did:example:123#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN","type":"Ed25519VerificationKey2018","controller":"did:example:123","publicKeyBase58":"DqS5F3GVe3rCxucgi4JBNagjv4dKoHc8TDLDw9kR58Pz"}]}}')},133:function(e,t,n){e.exports=n(194)},165:function(e,t){},178:function(e,t){},188:function(e,t){},189:function(e,t){},193:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),l=n(12),i=n(235),u=n(250),s=n(255),m=n(251),d=n(253),p=n(111),f=n.n(p),b=(n(145),n(146),n(147),function(e){var t=e.onChange,n=e.value,a=e.index,o=e.readOnly;return r.a.createElement(f.a,{placeholder:"Paste your JSON-LD object here",width:"800px",mode:"json",theme:"monokai",name:"json-ld-editor-".concat(a),onChange:t,readOnly:o,fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:n,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:2}})}),h=n(237),g=Object(i.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"}}})),v=function(e){var t=e.value,n=g(),a=encodeURIComponent(t);return r.a.createElement("div",{className:n.wrapper},r.a.createElement(h.a,{color:"primary",variant:"contained",href:"https://json-ld.org/playground/#json-ld=".concat(a),target:"_blank",rel:"noopener"},"Open in JSON-LD Playground"))},E=n(11),y=n.n(E),j=n(44),O=n(84),x=n(58),S=n(73),k=n(72),w=n(257),N=n(3),C=function(e,t){var n=new URLSearchParams(window.location.search);n.get(e)!==t&&(n.set(e,t),window.history.pushState(null,"","/?".concat(n.toString())))},B=function(e){return new URLSearchParams(window.location.search).get(e)},P=n(239),D=Object(i.a)((function(){return Object(w.a)({loaderButtonWrapper:{position:"relative"},loaderButtonProgress:{color:S.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})})),z=function(e){var t=e.onClick,n=e.buttonText,a=e.className,o=D(),c=r.a.useState(!1),i=Object(l.a)(c,2),u=i[0],s=i[1];return r.a.createElement("div",{className:o.loaderButtonWrapper},r.a.createElement(h.a,{className:a,color:"primary",variant:"contained",disabled:u,onClick:function(e){s(!0),t(e).finally((function(){s(!1)}))}},n),u&&r.a.createElement(P.a,{size:24,className:o.loaderButtonProgress}))},R=Object(i.a)((function(e){return Object(w.a)({root:{display:"flex",alignItems:"center"},wrapper:{margin:e.spacing(1),position:"relative"},buttonSuccess:{backgroundColor:S.a[500],"&:hover":{backgroundColor:S.a[700]}},buttonError:{backgroundColor:k.a[500],"&:hover":{backgroundColor:k.a[700]}}})})),T=function(e){var t,n=e.value,a=e.setResult,o=B("analyze"),c=R(),i=r.a.useState(!1),u=Object(l.a)(i,2),s=u[0],m=u[1],d=r.a.useState(!1),p=Object(l.a)(d,2),f=p[0],b=p[1],h=Object(N.a)((t={},Object(O.a)(t,c.buttonSuccess,s),Object(O.a)(t,c.buttonError,f),t)),g=function(){var e=Object(j.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)(n);case 2:t=e.sent,m(t.ok),b(!t.ok),a(t),C("analyze","1");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){"1"===o&&g()}),[o]),r.a.useEffect((function(){m(!1),b(!1)}),[n]),r.a.createElement("div",{className:c.root},s,f,r.a.createElement("div",{className:c.wrapper},r.a.createElement(z,{className:h,onClick:g,buttonText:"Check"})))},L=n(115),I=n(256),J=n(241),F=function(e){var t=e.result,n=e.className;return t?t.ok?r.a.createElement(I.a,{severity:"success"},"All Good!"):r.a.createElement(I.a,{className:n,severity:"error"},r.a.createElement(J.a,null,t.error.type),t.error.details):r.a.createElement(r.a.Fragment,null)},M=n(254),W=n(197),G=Object(i.a)((function(e){return Object(w.a)({typography:{padding:e.spacing(2)},wrapper:{margin:e.spacing(1),position:"relative"}})})),A=function(){var e=G(),t=r.a.useState(""),n=Object(l.a)(t,2),a=n[0],o=n[1],c=r.a.useState(null),i=Object(l.a)(c,2),u=i[0],s=i[1],m=Boolean(a)&&Boolean(u),d=m?"simple-popover":void 0,p=function(){var e="".concat(window.location.toString());return a||fetch("https://tiny.gjgd.fr/",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({url:e})}).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(e){var t=e.shortUrl||"";return o(t),t}))},f=function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t.currentTarget),e.abrupt("return",p());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:e.wrapper},r.a.createElement(z,{onClick:f,buttonText:"Share"}),r.a.createElement(M.a,{id:d,open:m,anchorEl:u,onClose:function(){s(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(W.a,{className:e.typography},r.a.createElement("span",null,"Copy the URL or use this short one:"),r.a.createElement("br",null),r.a.createElement("a",{className:e.wrapper,href:"https://".concat(a),target:"_blank",rel:"noopener noreferrer"},a))))},H=Object(i.a)((function(e){return{buttonWrapper:{display:"flex",margin:e.spacing(1)},contentWrapper:{display:"table",margin:e.spacing(1)},checkResult:{marginBottom:e.spacing(2)}}})),U=function(){var e=H(),t=r.a.useState((function(){var e=B("json");return e?decodeURIComponent(e):JSON.stringify(L,null,2)})),n=Object(l.a)(t,2),a=n[0],o=n[1],c=r.a.useState(),i=Object(l.a)(c,2),u=i[0],s=i[1];return r.a.useEffect((function(){C("json",encodeURIComponent(a))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.buttonWrapper},r.a.createElement(T,{value:a,setResult:s}),r.a.createElement(v,{value:a}),r.a.createElement(A,null)),r.a.createElement("div",{className:e.contentWrapper},r.a.createElement(F,{className:e.checkResult,result:u}),r.a.createElement(b,{onChange:function(e){C("analyze","0"),s(void 0),o(e)},value:a})))},V=n(249),K=n(252),q=n(244),Q=n(240),X=n(246),_=n(248),Y=n(243),Z=n(245),$=n(247),ee=n(242),te=n(196),ne=n(119),ae=n.n(ne),re=n(118),oe=n.n(re),ce=n(116),le=n.n(ce),ie=n(117),ue=n.n(ie),se=Object(i.a)({root:{"& > *":{borderBottom:"unset"}}});function me(e){var t,n=e.row,a=r.a.useState(!1),o=Object(l.a)(a,2),c=o[0],i=o[1],u=se();return t=n.result.ok?r.a.createElement(le.a,{style:{color:"green"}}):r.a.createElement(ue.a,{style:{color:"red"}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{className:u.root},r.a.createElement(Y.a,null,r.a.createElement(Q.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!c)}},c?r.a.createElement(oe.a,null):r.a.createElement(ae.a,null))),r.a.createElement(Y.a,{component:"th",scope:"row"},n.name),r.a.createElement(Y.a,{align:"center"},t)),r.a.createElement(ee.a,null,r.a.createElement(Y.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.a.createElement(q.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(d.a,{margin:1},r.a.createElement(W.a,{variant:"h6",gutterBottom:!0,component:"div"},"Details"),r.a.createElement(F,{result:n.result}),r.a.createElement(b,{value:JSON.stringify(n.object,null,2),index:n.key,readOnly:!0}))))))}var de=function(e){var t=e.results.map((function(e,t){var n=e.object,a=e.result;return{key:t,name:n.id?n.id:"object ".concat(t),object:n,result:a}}));return 0===t.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(Z.a,{component:te.a},r.a.createElement(X.a,{"aria-label":"collapsible table"},r.a.createElement($.a,null,r.a.createElement(ee.a,null,r.a.createElement(Y.a,null),r.a.createElement(Y.a,null,"JSON-LD objects detected"),r.a.createElement(Y.a,{align:"center"},"Status"))),r.a.createElement(_.a,null,t.map((function(e){return r.a.createElement(me,{key:e.key,row:e})})))))},pe=Object(i.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},progressBar:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),fe=function(){var e=B("analyze"),t=r.a.useState((function(){var e=B("url");return e?decodeURIComponent(e):"https://raw.githubusercontent.com/transmute-industries/universal-wallet/master/docs/index.html"})),n=Object(l.a)(t,2),a=n[0],o=n[1],c=r.a.useState([]),i=Object(l.a)(c,2),u=i[0],s=i[1],m=r.a.useState(0),d=Object(l.a)(m,2),p=d[0],f=d[1],b=function(){var e=Object(j.a)(y.a.mark((function e(){var t,n,r,o,c,l,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,e.next=8,Object(x.b)(n);case 8:r=e.sent,f(r.length),o=[],c=0;case 12:if(!(c<r.length)){e.next=22;break}return l=r[c],e.next=16,Object(x.a)(l);case 16:i=e.sent,o.push({object:l,result:i}),s([].concat(o));case 19:c+=1,e.next=12;break;case 22:C("analyze","1");case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){C("url",a)}),[a]),r.a.useEffect((function(){"1"===e&&b()}),[e]);var h=pe(),g=u.filter((function(e){return!e.result.ok})),v=g.length>0,E="Found ".concat(g.length," JSON-LD errors");return r.a.createElement("div",{className:h.root},r.a.createElement(z,{onClick:b,buttonText:"Check"}),r.a.createElement(K.a,{label:"Enter the URL to a file",onChange:function(e){C("analyze","0"),o(e.target.value)},defaultValue:a,style:{margin:8},fullWidth:!0,margin:"normal"}),v?r.a.createElement(I.a,{severity:"error"},r.a.createElement(J.a,null,E),"Check details below"):r.a.createElement(r.a.Fragment,null),p>0?r.a.createElement("div",{className:h.progressBar},r.a.createElement(V.a,{variant:"determinate",value:100*u.length/p})):r.a.createElement(r.a.Fragment,null),r.a.createElement(de,{results:u}))};function be(e){var t=e.children,n=e.value,a=e.index;return r.a.createElement("div",{role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},n===a&&r.a.createElement(d.a,{p:3},t))}function he(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var ge=Object(i.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function ve(){var e=ge(),t=r.a.useState((function(){var e,t=B("tab");return t?(e=Number.parseInt(t,10))>1&&(e=1):e=0,e})),n=Object(l.a)(t,2),a=n[0],o=n[1];return r.a.useEffect((function(){C("tab","".concat(a))}),[a]),r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,{value:a,onChange:function(e,t){2===t?alert("Not implemented yet"):o(t)},centered:!0},r.a.createElement(m.a,Object.assign({label:"Check a single JSON"},he(0))),r.a.createElement(m.a,Object.assign({label:"Check a file"},he(1))),r.a.createElement(m.a,Object.assign({label:"Check a Github repo"},he(2))))),r.a.createElement(be,{value:a,index:0},r.a.createElement(U,null)),r.a.createElement(be,{value:a,index:1},r.a.createElement(fe,null)),r.a.createElement(be,{value:a,index:2},r.a.createElement("div",null,"TODO")))}var Ee=function(){return r.a.createElement(ve,null)};n(193);console.log("Current commit is ".concat("1726535")),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root"))},58:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(49),r=n.n(a);"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var o=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=""),this.ok=e,this.error={type:t,details:n}},c={},l="undefined"!==typeof e&&null!=e.versions&&null!=e.versions.node?r.a.documentLoaders.node():r.a.documentLoaders.xhr();r.a.documentLoader=function(e){try{return e in c?Promise.resolve({contextUrl:null,document:c[e],documentUrl:e}):Promise.resolve(l(e)).then((function(t){return c[e]=t.document,t}))}catch(t){return Promise.reject(t)}};var i=function(e){return!["@id","@type"].includes(e)},u=function(e){try{return Promise.resolve(function(e,t){try{var n=e()}catch(a){return t(a)}return n&&n.then?n.then(void 0,t):n}((function(){var t;return t="string"===typeof e?JSON.parse(e):e,Promise.resolve(r.a.expand(t)).then((function(e){return Promise.resolve(r.a.compact(e,t["@context"])).then((function(e){var n=Object.keys(t).filter(i),a=new Set(Object.keys(e)),r=n.filter((function(e){return!a.has(e)}));return 0===r.length?new o(!0):new o(!1,"MISSING_PROPERTIES_IN_CONTEXT",JSON.stringify(r))}))}))}),(function(e){return new o(!1,e.name,e.message)})))}catch(t){return Promise.reject(t)}},s=function(e){return function(e){for(var t=[],n=0;n<e.length;n+=1)"{"===e[n]&&t.push(n);return t}(e).map((function(t){return function(e,t){var n=e[t];if("{"!==n)throw new Error("start must be the index of an opening bracket");for(var a=1,r=t+1,o=e.length;0!==a&&r<o;){var c=e[r];"{"===c?a+=1:"}"===c&&(a-=1),r+=1,n+=c}try{return JSON.parse(n)}catch(l){return null}}(e,t)})).filter(Boolean)},m=function(e){return s(e).filter((function(e){return function(e){return"@context"in e}(e)}))}}).call(this,n(51))}},[[133,1,2]]]);
//# sourceMappingURL=main.b6db2b9c.chunk.js.map